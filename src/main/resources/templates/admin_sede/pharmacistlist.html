<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <meta name="description" content="POS - Bootstrap Admin Template">
		<meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
        <meta name="author" content="Dreamguys - Bootstrap Admin Template">
        <meta name="robots" content="noindex, nofollow">
        <title>SaintMedic</title>

		
		<!-- Favicon -->
		<link rel="shortcut icon" type="image/x-icon" href="/assets_superAdmin/img/PastillaSinFondo.png">
		
		<!-- Bootstrap CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/bootstrap.min.css">
		
		<!-- animation CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/animate.css">

		<!-- Select2 CSS -->
		<link rel="stylesheet" href="/assets_superAdmin/plugins/select2/css/select2.min.css">

		<!-- Datetimepicker CSS -->
		<link rel="stylesheet" href="/assets_superAdmin/css/bootstrap-datetimepicker.min.css">

		<!-- Datatable CSS -->
		<link rel="stylesheet" href="/assets_superAdmin/css/dataTables.bootstrap4.min.css">
		
        <!-- Fontawesome CSS -->
		<link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/fontawesome.min.css">
		<link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/all.min.css">
		
		<!-- Main CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/style.css">
		<style>
			.disabled {
				pointer-events: none; /* Deshabilita el clic */
				opacity: 0.5; /* Opacidad reducida para indicar estado deshabilitado */
			}
		</style>

		<style>

			.btn-shine {
				text-align: center;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				padding: 12px 48px;
				color: #fff;
				background: linear-gradient(to right, #FF9F43 0, #FF6F43 10%, white 10%);
				background-position: 0;
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				animation: shine 3s infinite linear;
				animation-fill-mode: forwards;
				-webkit-text-size-adjust: none;
				font-weight: 600;
				font-size: 16px;
				text-decoration: none;
				white-space: nowrap;
				font-family: "Poppins", sans-serif;
			}
			@-moz-keyframes shine {
				0% {
					background-position: 0;
				}
				60% {
					background-position: 180px;
				}
				100% {
					background-position: 180px;
				}
			}
			@-webkit-keyframes shine {
				0% {
					background-position: 0;
				}
				60% {
					background-position: 180px;
				}
				100% {
					background-position: 180px;
				}
			}
			@-o-keyframes shine {
				0% {
					background-position: 0;
				}
				60% {
					background-position: 180px;
				}
				100% {
					background-position: 180px;
				}
			}
			@keyframes shine {
				0% {
					background-position: 0;
				}
				60% {
					background-position: 180px;
				}
				100% {
					background-position: 180px;
				}
			}
		</style>
		
    </head>
	<body>
		
		<div id="global-loader" >
			<div class="whirly-loader"> </div>
		</div>
	
		 
		<!-- Main Wrapper -->
        <div class="main-wrapper">

			<!-- Header -->
			<div th:replace="headerAdminSede"> </div>

			<!-- Header -->

			<!--sideBar-->
			<div th:replace="sidebarAdmin :: sidebarAdmin(activeTab = 'farmacista')"> </div>
			<!-- /Sidebar -->

			<div class="page-wrapper">
				<div class="content">
					<div class="page-header">
						<div class="page-title">
							<h4>Farmacistas</h4>
						</div>
						<div class="page-btn" th:if="${listaFarmacista.size()}<3">
							<a th:href="@{/adminSede/verAddPharmacist}"  class="btn btn-added"><img src="/assets_superAdmin/img/icons/plus.svg" alt="img" class="me-2">Agregar farmacista</a>
						</div>
					</div>

					<!-- /product list -->
					<!--AQUI EMPIEZA COMENTADO LA ANTERIOR LISTA DE FARMACISTAS-->
					<!--
					<div class="card">
						<div class="card-body">
							<div class="table-top">
								<div class="search-set">
									<div class="search-path">
										<a class="btn btn-filter" id="filter_search1">
											<img src="/assets_superAdmin/img/icons/filter.svg" alt="img">
											<span><img src="/assets_superAdmin/img/icons/closes.svg" alt="img"></span>
										</a>
									</div>
									<div class="search-input">
										<a class="btn btn-searchset"><img src="/assets_superAdmin/img/icons/search-white.svg" alt="img"></a>
									</div>
								</div>
								<div class="wordset">
									<ul>

										<li>
											<a data-bs-toggle="tooltip" data-bs-placement="top" title="csv"><img src="/assets_superAdmin/img/icons/excel.svg" alt="img"></a>
										</li>

									</ul>
								</div>
							</div>
							 /Filter
							<div class="card mb-0" id="filter_inputs1">
								<div class="card-body pb-0">
									<div class="row">
										<div class="col-lg-12 col-sm-12">
											<div class="row">

												<div class="col-lg col-sm-6 col-12">
													<div class="form-group">
														<input type="text" class="datetimepicker cal-icon" placeholder="Fecha de Registro Inicial" >
													</div>
												</div>
												<div class="col-lg col-sm-6 col-12">
													<div class="form-group">
														<input type="text" class="datetimepicker cal-icon" placeholder="Fecha de Registro Final" >
													</div>
												</div>

												<div class="col-lg-1 col-sm-6 col-12">
													<div class="form-group">
														<a class="btn btn-filters ms-auto"><img src="/assets_superAdmin/img/icons/search-whites.svg" alt="img"></a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="table-responsive">
								<table id="tablaFarmacistas" class="table  datanew">
									<thead>
										<tr>
											<th></th>
											<th>Nombre</th>
											<th>Apellido </th>
											<th>Correo</th>
											<th>Códido</th>
											<th>Fecha de Creación</th>
											<th>Estado</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="farmacista : ${listaFarmacista}">

											<td class="productimgname" style="text-align: center;">
												<a href="#" class="product-img">
													<img src="/assets_superAdmin/img/product/product1.jpg" alt="product">
												</a>
											</td>
											<td th:text="${farmacista.nombre}"></td>
											<td th:text="${farmacista.apellido}"></td>
											<td th:text="${farmacista.email}"></td>
											<td  th:text="${farmacista.codigo}"> </td>
											<td th:text="${farmacista.creationDate}"></td>
											<td th:text="${farmacista.estado}"></td>
											<td>

												<a class="me-3" href="product-details.html">
													<img src="/assets_superAdmin/img/icons/eye.svg" alt="img">
												</a>
												<a class="me-3" th:href="@{'/editFarmacistaAdminSede?idFarmacista=' + ${farmacista.idPharmacist}}">
													<img src="/assets_superAdmin/img/icons/edit.svg" alt="img">
												</a>

											</td>
										</tr>

									</tbody>
								</table>
							</div>
						</div>
					</div>
					-->

					<div class="card">
						<div class="card-body">
							<div class="comp-sec-wrapper">
									<section class="comp-section comp-cards" >
										<div class="row">
											<div class="col-12 col-md-6 col-lg-4 d-flex" th:each="farmacista : ${listaFarmacista}">
												<div class="card flex-fill bg-white">
													<img alt="Card Image" width="5" height="5" src="/assets_admin_sede/img/doc.jpg" class="card-img-top">
													<div class="card-header">
														<ul role="tablist" class="nav nav-tabs card-header-tabs float-right">
															<li class="nav-item">
																<a th:href="|#tab-1${farmacista.getCodigo()}|" data-bs-toggle="tab" class="nav-link active">Datos</a>
															</li>
															<li class="nav-item">
																<a th:href="|#tab-2${farmacista.getCodigo()}|" data-bs-toggle="tab" class="nav-link">Empresa</a>
															</li>
															<li class="nav-item">
																<a th:href="|#tab-3${farmacista.getCodigo()}|" data-bs-toggle="tab" class="nav-link">Edición</a>
															</li>
														</ul>
													</div>
													<div class="card-body">
														<div class="tab-content pt-0">
															<div role="tabpanel" th:id="|tab-1${farmacista.getCodigo()}|" class="tab-pane fade text-center show active">
																<h5 class="card-title" th:text="|${farmacista.getNombre()} ${farmacista.apellido}|"></h5>
																<p class="card-text" th:text="|Correo  : ${farmacista.email}|" ></p>
															</div>
															<div role="tabpanel" th:id="|tab-2${farmacista.getCodigo()}|" class="tab-pane fade text-center">
																<p class="card-text" th:text="|Código de colegiatura :${farmacista.codigo}|" ></p>
																<p class="card-text" th:text="|Ingreso a la empresa el ${farmacista.creationDate}|" ></p>
															</div>
															<div role="tabpanel" th:id="|tab-3${farmacista.getCodigo()}|" class="tab-pane fade text-center">
																<a class="btn btn-primary" th:href="@{'/adminSede/editFarmacista?idFarmacista=' + ${farmacista.idPharmacist}}">Editar farmacista</a>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</section>
							</div>
						</div>
					</div>


					<div class="page-header">
						<div class="page-title">
							<h4>Solicitudes</h4>
						</div>
					</div>

					<div class="card">
						<div class="card-body">
							<div class="table-top">
								<div class="search-set">
									<div class="search-path">
										<a class="btn btn-filter" id="filter_search2">
											<img src="/assets_superAdmin/img/icons/filter.svg" alt="img">
											<span><img src="/assets_superAdmin/img/icons/closes.svg" alt="img"></span>
										</a>
									</div>
									<div class="search-input">
										<a class="btn btn-searchset"><img src="/assets_superAdmin/img/icons/search-white.svg" alt="img"></a>
									</div>
								</div>
								<div class="wordset">
									<ul>
										<li>
											<a data-bs-toggle="tooltip" data-bs-placement="top" title="csv"><img src="/assets_superAdmin/img/icons/excel.svg" alt="img"></a>
										</li>
									</ul>
								</div>
							</div>
							<!-- /Filter -->
							<div class="card mb-0" id="filter_inputs2">
								<div class="card-body pb-0">
									<div class="row">
										<div class="col-lg-12 col-sm-12">
											<div class="row">

												<div class="col-lg col-sm-6 col-12">
													<div class="form-group">
														<input type="text" class="datetimepicker cal-icon" placeholder="Fecha de Registro Inicial" >
													</div>
												</div>
												<div class="col-lg col-sm-6 col-12">
													<div class="form-group">
														<input type="text" class="datetimepicker cal-icon" placeholder="Fecha de Registro Final" >
													</div>
												</div>
												<div class="col-lg-1 col-sm-6 col-12">
													<div class="form-group">
														<a class="btn btn-filters ms-auto"><img src="/assets_superAdmin/img/icons/search-whites.svg" alt="img"></a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /Filter -->
							<div class="table-responsive">
								<table class="table  datanew">
									<thead>
										<tr>
											<th></th>
											<th>Nombre</th>
											<th>Apellido </th>
											<th>Correo</th>
											<th>Código</th>
											<th>Fecha de Solicitud</th> <!--Se refiere al dateRequestCreation-->
											<th>Estado</th> <!--SE REFIERE AL APROVALSTATE-->
										</tr>
									</thead>
									<tbody>
										<tr th:each="solicitud : ${listaSolicitudes}">
											<td class="productimgname" >
												<a href="javascript:void(0);" class="product-img">
													<img src="/assets_superAdmin/images/perfil.png" alt="product">
												</a>
											</td>
											<td  th:text="${solicitud.name}"></td>
											<td th:text="${solicitud.lastName}"></td>
											<td  th:text="${solicitud.email}"></td>
											<td  th:text="${solicitud.code}"></td>
											<td  th:text="${solicitud.requestDate}"></td>
											<td  th:text="${solicitud.approvalState}"> </td> <!--Será solo pendienete o rechazado-->
										</tr>

									</tbody>
								</table>
							</div>
						</div>
					</div>



					<!-- /product list -->
				</div>
			</div>
        </div>
		<!-- /Main Wrapper -->
		<!--Para la tabla de lista 3 farmacistas-->
		<script>
			document.addEventListener("DOMContentLoaded", function (){

				function countPharmacist() {
					var tabla = document.getElementById("tablaFarmacistas");
					var numFilas = tabla.getElementsByTagName("tr") - 1; //El -1 es por la cabecera de la tabla
					return numFilas;
				}

				//se crea la función para verificar que solo esten 3 farmacistas y desactiva el boton
				function verifyPharmacist(){
					var btnCrear = document.getElementById("btnAddPharmacist");
					if(countPharmacist()>=3){
						btnCrear.classList.add("disabled"); //disabled es un estilo
						btnCrear.removeAttribute("href"); //elimina el href por si el JP nos mata
					}else{
						btnCrear.classList.remove("disabled");
						btnCrear.setAttribute("href","@{'/adminSede/verAddPharmacist'}"); //ojito con esto

					}
				}
				//Finalmente se llama a la función
				verifyPharmacist();
			});
		</script>
		<!-- jQuery -->
        <script src="/assets_superAdmin/js/jquery-3.6.0.min.js"></script>

        <!-- Feather Icon JS -->
		<script src="/assets_superAdmin/js/feather.min.js"></script>

		<!-- Slimscroll JS -->
		<script src="/assets_superAdmin/js/jquery.slimscroll.min.js"></script>

		<!-- Datatable JS -->
		<script src="/assets_superAdmin/js/jquery.dataTables.min.js"></script>
		<script src="/assets_superAdmin/js/dataTables.bootstrap4.min.js"></script>
		
		<!-- Bootstrap Core JS -->
        <script src="/assets_superAdmin/js/bootstrap.bundle.min.js"></script>

		<!-- Select2 JS -->
		<script src="/assets_superAdmin/plugins/select2/js/select2.min.js"></script>

		<!-- Datetimepicker JS -->
		<script src="/assets_superAdmin/js/moment.min.js"></script>
		<script src="/assets_superAdmin/js/bootstrap-datetimepicker.min.js"></script>

		<!-- Sweetalert 2 -->
		<script src="/assets_superAdmin/plugins/sweetalert/sweetalert2.all.min.js"></script>
		<script src="/assets_superAdmin/plugins/sweetalert/sweetalerts.min.js"></script>

		<!-- Custom JS -->
		<script src="/assets_superAdmin/js/script.js"></script>
		
    </body>
</html>