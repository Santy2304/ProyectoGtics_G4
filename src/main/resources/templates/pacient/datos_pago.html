<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>SaintMedic</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="author" content="">
	<meta name="keywords" content="">
	<meta name="description" content="">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="/Food/vendor.css">
	<link rel="stylesheet" type="text/css" href="/Food/normalize.css">
	<link rel="stylesheet" type="text/css" href="/Food/style.css">
	<link rel="stylesheet" type="text/css" href="/style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/assets_pacient/css/dataTables.bootstrap4.min.css">
	<link rel="stylesheet" href="/assets_pacient/plugins/select2/css/select2.min.css">
	<link rel="stylesheet" href="/assets_pacient/plugins/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="/assets_pacient/plugins/fontawesome/css/all.min.css">
	<link rel="stylesheet" href="/assets_pacient/plugins/select2/css/select2.min.css">
	<link rel="icon" href="/assets_pacient/img/PastillaSinFondo.png" >
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" charset="UTF-8"></script>

	<!-- Favicon -->

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="assets_pacient/css/bootstrap.min.css">
	<link rel="shortcut icon" type="image/x-icon" href="../assets_pacient/img/PastillaSinFondo.png">

	<!-- animation CSS -->
	<link rel="stylesheet" href="/assets_superAdmin/css/animate.css">

	<!-- Datatable CSS -->
	<link rel="stylesheet" href="/assets_superAdmin/css/dataTables.bootstrap4.min.css">

	<!-- Fontawesome CSS -->
	<link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/all.min.css">

	<!-- Main CSS -->
	<link rel="stylesheet" href="/assets_superAdmin/css/style.css">

	<link rel="stylesheet" href="/assets_superAdmin/css/bootstrap-datetimepicker.min.css">


	<style>


		.active{
			background:#f38a4e;
		}

		.custom-navbar .nav-item.active {
			border-radius: 15px; /* Ajusta el valor para más o menos redondeo */
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Sombra opcional para un efecto de elevación */
		}
		.custom-navbar .logo-img {
			width: 70px; /* Ajusta el ancho según sea necesario */
			height: auto; /* Mantiene la proporción de aspecto */
		}
		.custom-navbar .logo-small {
			margin-left: -16%; /* Ajusta el valor negativo para mover el logo a la izquierda */
		}
		.custom-dropdown-menu {
			min-width: auto; /* Permite que el menú se ajuste al contenido */
			padding: 0.5rem 1rem; /* Ajusta el relleno según sea necesario */
		}

		/* Ajuste del tamaño de los elementos dentro del dropdown */
		.custom-dropdown-menu .dropdown-item,
		.custom-dropdown-menu hr,
		.custom-dropdown-menu form {
			padding: 0.25rem 0; /* Ajusta el relleno de los elementos */
			margin: 0; /* Elimina márgenes adicionales */
		}
		.flip-card {
			background-color: transparent;
			width: 240px;
			height: 154px;
			perspective: 1000px;
			color: white;
		}

		.heading_8264 {
			position: absolute;
			letter-spacing: .2em;
			font-size: 0.5em;
			top: 2em;
			left: 18.6em;
		}

		.logo {
			position: absolute;
			top: 6.8em;
			left: 11.7em;
		}

		.chip {
			position: absolute;
			top: 2.3em;
			left: 1.5em;
		}

		.contactless {
			position: absolute;
			top: 3.5em;
			left: 12.4em;
		}

		.number {
			position: absolute;
			font-weight: bold;
			font-size: .6em;
			top: 8.3em;
			left: 1.6em;
		}

		.valid_thru {
			position: absolute;
			font-weight: bold;
			top: 635.8em;
			font-size: .01em;
			left: 140.3em;
		}

		.date_8264 {
			position: absolute;
			font-weight: bold;
			font-size: 0.5em;
			top: 13.6em;
			left: 3.2em;
		}

		.name {
			position: absolute;
			font-weight: bold;
			font-size: 0.5em;
			top: 16.1em;
			left: 2em;
		}

		.strip {
			position: absolute;
			background-color: black;
			width: 15em;
			height: 1.5em;
			top: 2.4em;
			background: repeating-linear-gradient(
					45deg,
					#303030,
					#303030 10px,
					#202020 10px,
					#202020 20px
			);
		}

		.mstrip {
			position: absolute;
			background-color: rgb(255, 255, 255);
			width: 8em;
			height: 0.8em;
			top: 5em;
			left: .8em;
			border-radius: 2.5px;
		}

		.sstrip {
			position: absolute;
			background-color: rgb(255, 255, 255);
			width: 4.1em;
			height: 0.8em;
			top: 5em;
			left: 10em;
			border-radius: 2.5px;
		}

		.code {
			font-weight: bold;
			text-align: center;
			margin: .2em;
			color: black;
		}

		.flip-card-inner {
			position: relative;
			width: 100%;
			height: 100%;
			text-align: center;
			transition: transform 0.8s;
			transform-style: preserve-3d;
		}

		.flip-card:hover .flip-card-inner {
			transform: rotateY(180deg);
		}

		.flip-card-front, .flip-card-back {
			box-shadow: 0 8px 14px 0 rgba(0,0,0,0.2);
			position: absolute;
			display: flex;
			flex-direction: column;
			justify-content: center;
			width: 100%;
			height: 100%;
			-webkit-backface-visibility: hidden;
			backface-visibility: hidden;
			border-radius: 1rem;
		}

		.flip-card-front {
			box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 2px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -1px 0px inset;
			background-color: #171717;
		}

		.flip-card-back {
			box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 2px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -1px 0px inset;
			background-color: #171717;
			transform: rotateY(180deg);
		}

		/* Ajuste para el botón de formulario */
		.custom-dropdown-menu form .btn {
			padding: 0; /* Elimina relleno del botón */
		}

		.custom-dropdown-menu form .btn img {
			width: 20px; /* Ajusta el tamaño del ícono */
			height: 20px; /* Ajusta el tamaño del ícono */
		}

	</style>

</head>

	<!--style="background-image: url('/assets_pacient/images/background-pattern.jpg');background-repeat: no-repeat;background-size: cover;"-->
<body>
	<!--
	<header class="custom-navbar p-3 mb-3 border-bottom" style="background: linear-gradient(90deg,#f6c32c 25%, #ff9f43 50%);">
		<div class="container">
			<div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
				<a class="logo-small" href="/patient/verSeleccionarSedePaciente">
					<img src="/assets_superAdmin/img/PastillaSinFondo.png" alt="" class="logo-img">
				</a>

				<ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
					<li>
						<a href="/patient/verPrincipalPaciente" style="color: white" class="nav-link px-2 link-secondary">Home</a>
					</li>
					<li ><a style="color: white" href="/patient/verGenerarOrdenCompra" class="nav-link px-2 link-secondary">Ordenar</a></li>
					<li class="nav-item active"><a href="/patient/verHistorial" style="color: white" class="nav-link px-2 link-secondary">Historial</a></li>
					<li ><a href="/patient/verTracking" style="color: white" class="nav-link px-2 link-secondary">Tracking</a></li>
					<li><a href="/patient/verChatPaciente" style="color: white" class="nav-link px-2 link-secondary">Chats</a></li>
				</ul>

				<div class="dropdown text-end">
					<a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
						<img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
					</a>
					<ul class="dropdown-menu text-small custom-dropdown-menu">
						<li> <p th:text="${nombre}+' '+${apellido}"></p></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="/patient/verPerfilPaciente">Profile</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><form th:action="@{/logout}" method="post" class="ml-2">
							<button class="btn btn-link" type="submit">
								<img type="submit" src="/assets_superAdmin/img/icons/log-out.svg" alt="Logout" width="25" height="25" >
							</button>
						</form></li>
					</ul>
				</div>
			</div>
		</div>
	</header>
-->
<div id="global-loader" >
	<div class="whirly-loader"> </div>
</div>

	<div class="main-wrapper">
		<!-- Header -->
		<div th:replace="navbarPacienteNuevo"></div>
		<!-- Header -->
		<!-- Sidebar -->
		<div th:replace="sidebarPatient :: sidebarPatient(activeTab = 'historial')"> </div>

		<div class="page-wrapper pagehead">
			<div class="content py-3" >

				<div class="row mx-3 mt-2">
					<div class="col-lg-3 col-sm-6 col-12">
						<div class="dash-widget">
							<div class="dash-widgetimg">
								<span><img src="/assets_superAdmin/img/icons/dash1.svg" alt="img"></span>
							</div>
							<div class="dash-widgetcontent">
								<h5 th:text="${'S/.'+purchaseDTO.getTotal_price()}" ></h5>
								<h6>Total a Pagar</h6>
							</div>
						</div>
					</div>

				</div>
				<!-- Button trigger modal -->

				<div class="row mx-3">
					<div class="col-lg-7 col-sm-12 col-12 d-flex">
						<div class="card">
							<div class="card-header">
								<h5 class="card-title">Generar orden de compra</h5>
								<p class="card-text">Utilizará la tarjeta de pago marcada como favorita, pero puede pagar con otra tarjeta sin guardarla.</p>
							</div>
							<div class="card-body">
								<form method="post" th:action="@{/patient/pagarFinal}">
									<input type="hidden" name="idPurchase" th:value="${idPurchase}">

									<h5 class="card-title">Tarjeta Favorita</h5>

									<div class="card-body">

										<div class="table-responsive">

											<table class="table mb-0">
												<thead>
													<tr>
														<th>Número de Tarjeta</th>
														<th>Tipo</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td th:text="${tarjetaElejida.getNumberCard()}"></td>
														<td th:text="${tarjetaElejida.getBank()}"></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>


								<h5 class="card-title">Usar otra tarjeta</h5>
								<div class="form-row row mx-1">
									<div class="col-md-6 mb-3">
										<label class="mb-2" for="validationServer01">Nueva Tarjeta</label>
										<input type="text" name="nuevaTarjetaNum" class="form-control" id="validationServer01" placeholder="**** **** **** ****">

									</div>
								</div>

								<h5 class="card-title">Credenciales</h5>

									<div th:if="${msg != null}" th:text="${msg}" class="alert alert-danger" role="alert"></div>

									<div class="form-row row mx-1">

									<div class="col-md-4 mb-3">
										<input type="text" name="cvv" class="form-control" id="validationServer02" placeholder="CVV" required>

									</div>

									<div class="col-md-4 mb-3">
										<input type="text" name="fechaV" class="form-control"  id="expireDate" style="width: auto" placeholder="Fecha de Vencimiento ( / )" required pattern="(0[1-9]|1[0-2])\/[0-9]{2}">
										<div class="invalid-feedback">Formato inválido. Use MM/YY</div>
									</div>
								</div>

								<button class="btn btn-primary mt-2" type="submit">Aceptar</button>

								</form>
							</div>
						</div>
					</div>
					<div class="col-lg-5 col-sm-12 col-12 d-flex">
						<div class="card flex-fill">
							<div class="card-header pb-0 d-flex justify-content-between align-items-center">
								<h4 class="card-title mb-0">Carrito</h4>

							</div>
							<div class="card-body">
								<div class="table-responsive dataview">
									<table class="table datatable ">
										<thead>
											<tr>
												<th>Productos</th>
												<th>Cantidad</th>
												<th>Total</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="medicamento : ${listaMedicamentosCompra}">
												<td class="productimgname" th:text="${medicamento.getMedicineName()}">
													<!--
													<a href="#" class="product-img">
														<img src="assets_superAdmin/images/aspirina.jpeg" alt="product">
													</a>-->

												</td>
												<td th:text="${medicamento.getCantidad()}"></td>
												<td th:text="${medicamento.getPrecio()}"></td>
											</tr>

										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>
	</div>


<!-- /Main Wrapper -->
	<script>
		document.getElementById("expireDate").addEventListener("input", function(event) {
			const pattern = /^(0[1-9]|1[0-2])\/[0-9]{2}$/;
			const value = event.target.value;
			if (!pattern.test(value)) {
				event.target.setCustomValidity("Formato inválido. Use MM/YY");
			} else {
				event.target.setCustomValidity("");
			}
		});
	</script>
	<script src="/assets_superAdmin/js/jquery-3.6.0.min.js"></script>

	<!--Feather Icon JS-->
	<script src="/assets_superAdmin/js/feather.min.js"></script>

	<!--Slimscroll JS-->
	<script src="/assets_superAdmin/js/jquery.slimscroll.min.js"></script>

	<!-- Datatable JS-->
	<script src="/assets_superAdmin/js/jquery.dataTables.min.js"></script>
	<script src="/assets_superAdmin/js/dataTables.bootstrap4.min.js"></script>

	<!--Bootstrap Core JS-->
	<script src="/assets_superAdmin/js/bootstrap.bundle.min.js"></script>-->

	<!--Select2 JS-->
	<script src="/assets_superAdmin/plugins/select2/js/select2.min.js"></script>

	<!-- Sweetalert 2-->
	<script src="/assets_superAdmin/plugins/sweetalert/sweetalert2.all.min.js"></script>
	<script src="/assets_superAdmin/plugins/sweetalert/sweetalerts.min.js"></script>

	<!-- Custom JS-->
	<script src="/assets_superAdmin/js/script.js"></script>

</body>
</html>