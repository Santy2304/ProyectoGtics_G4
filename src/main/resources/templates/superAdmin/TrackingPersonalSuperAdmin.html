<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <meta name="description" content="POS - Bootstrap Admin Template">
        <meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
        <meta name="author" content="Dreamguys - Bootstrap Admin Template">
        <meta name="robots" content="noindex, nofollow">
        <title>SaintMedic</title>
        <!-- Favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="/assets_superAdmin/img/PastillaSinFondo.png">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/bootstrap.min.css">

        <!-- animation CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/animate.css">

        <!-- Select2 CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/plugins/select2/css/select2.min.css">

        <!-- Datatable CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/dataTables.bootstrap4.min.css">

        <!-- Fontawesome CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/fontawesome.min.css">
        <link rel="stylesheet" href="/assets_superAdmin/plugins/fontawesome/css/all.min.css">

        <!-- Main CSS -->
        <link rel="stylesheet" href="/assets_superAdmin/css/style.css">
        <style>

            .disabled-link {
                pointer-events: none;
                cursor: default;
            }
        </style>
    </head>
    <body>
        <div id="global-loader" >
            <div class="whirly-loader"> </div>
        </div>
        <div class="main-wrapper">
            <!-- Header -->
            <div th:replace="navbarSuperAdmin"> </div>
            <!-- Header -->
            <!-- Sidebar -->
            <div th:replace="sideBarSuperAdmin :: sidebarAdmin(activeTab = ${activeTab})"> </div>
            <div class="page-wrapper">
                <div class="content">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title mb-0" th:text="'Estado de la compra: RO'+${idReplacement}"></h4>
                            </div>

                            <div class="card-body">
                                <div id="progrss-wizard" class="twitter-bs-wizard">
                                    <ul class="twitter-bs-wizard-nav nav nav-pills nav-justified">
                                        <li class="nav-item" id="nav-solicitado">
                                            <a href="#progress-seller-details" class="nav-link disabled-link" data-toggle="tab">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Solicitado">
                                                    <i class="fa fa-clipboard-check"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="nav-item" id="nav-en-proceso">
                                            <a href="#progress-company-document" class="nav-link disabled-link" data-toggle="tab">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="En proceso">
                                                    <i class="fas fa-angle-double-right"></i>
                                                </div>
                                            </a>
                                        </li>

                                        <li class="nav-item" id="nav-empaquetado">
                                            <a href="#progress-bank-detail" class="nav-link disabled-link" data-toggle="tab">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Empaquetado">
                                                    <i class="fas fa-box-open"></i>
                                                </div>
                                            </a>
                                        </li>

                                        <li class="nav-item" id="nav-en-ruta">
                                            <a href="#progress-bank-detail" class="nav-link disabled-link" data-toggle="tab">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="En ruta">
                                                    <i class="fas fa-route"></i>
                                                </div>
                                            </a>
                                        </li>

                                        <li class="nav-item" id="nav-entregado">
                                            <a href="#progress-bank-detail" class="nav-link disabled-link" data-toggle="tab">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Entregado">
                                                    <i class="far fa-check-circle"></i>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>


                                    <div class="progress progress-lg mt-3">
                                        <div id="progress-bar" class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>

                                    <!-- wizard-nav -->
                                    <!--
                                    <div id="bar" class="progress mt-4">
                                        <div class="progress-bar bg-success progress-bar-striped progress-bar-animated"></div>
                                    </div>-->
                                    <div class="p-5 text-center">
                                        <a href="/assets_superAdmin/img/img-01.jpg" class="image-popup" target="_blank">
                                            <img src="/assets_superAdmin/img/mapa_tracking.jpg" class="img-fluid" alt="image">
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!-- end card body -->
                        </div>
                        <!-- end card -->
                    </div>
                </div>
            </div>
        </div>
        <script th:inline="javascript">
            /*<![CDATA[*/
            var solicitudDate = /*[[${Tracking.solicitudDate}]]*/;
            var enProcesoDate = /*[[${Tracking.enProcesoDate}]]*/;
            var empaquetadoDate = /*[[${Tracking.empaquetadoDate}]]*/;
            var enRutaDate = /*[[${Tracking.enRutaDate}]]*/;
            var entregadoDate = /*[[${Tracking.entregadoDate}]]*/;
            /*]]>*/
        </script>

        <script>
            function padToTwoDigits(num) {
                return num.toString().padStart(2, '0');
            }
            function ola(){
                var currentDate = new Date();
                var dia = padToTwoDigits(currentDate.getDate());
                var mes = padToTwoDigits(currentDate.getMonth() + 1);
                var ano = currentDate.getFullYear();
                var hora = padToTwoDigits(currentDate.getHours());
                var minutos =  padToTwoDigits(currentDate.getMinutes());
                var seconds = padToTwoDigits(currentDate.getSeconds());
                var dateString = ano+"-"+mes+"-"+dia+"T"+hora+":"+minutos+":"+seconds;
                // Lógica para determinar cuál nav-item seleccionar
                if (dateString >= entregadoDate ) {
                    document.getElementById("nav-entregado").querySelector('a').click();
                } else if (dateString >= enRutaDate ) {
                    document.getElementById("nav-en-ruta").querySelector('a').click();
                } else if (dateString >= empaquetadoDate) {
                    document.getElementById("nav-empaquetado").querySelector('a').click();
                } else if (dateString >= enProcesoDate) {
                    document.getElementById("nav-en-proceso").querySelector('a').click();
                } else if (dateString >= solicitudDate) {
                    document.getElementById("nav-solicitado").querySelector('a').click();
                }
                /*
                document.getElementById(id).querySelector('a').click();*/
            }
            setInterval(ola,1000);
            ola();

        </script>
        <script src="/assets_superAdmin/js/jquery-3.6.0.min.js"></script>
        <!--Feather Icon JS-->
        <script src="/assets_superAdmin/js/feather.min.js"></script>

        <!--Slimscroll JS-->
        <script src="/assets_superAdmin/js/jquery.slimscroll.min.js"></script>

        <!-- Datatable JS-->
        <script src="/assets_superAdmin/js/jquery.dataTables.min.js"></script>
        <script src="/assets_superAdmin/js/dataTables.bootstrap4.min.js"></script>

        <!--Bootstrap Core JS-->
        <script src="/assets_superAdmin/js/bootstrap.bundle.min.js"></script>-->

        <!--Select2 JS-->
        <script src="/assets_superAdmin/plugins/select2/js/select2.min.js"></script>

        <!-- Sweetalert 2-->
        <script src="/assets_superAdmin/plugins/sweetalert/sweetalert2.all.min.js"></script>
        <script src="/assets_superAdmin/plugins/sweetalert/sweetalerts.min.js"></script>

        <!-- Custom JS-->
        <script src="/assets_superAdmin/js/script.js"></script>

        <!-- Wizard JS -->
        <script src="/assets_superAdmin/plugins/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
        <script src="/assets_superAdmin/plugins/twitter-bootstrap-wizard/prettify.js"></script>
        <script src="/assets_superAdmin/plugins/twitter-bootstrap-wizard/form-wizard.js"></script>
        <script src="/assets_superAdmin/js/moment.min.js"></script>
        <script src="/assets_superAdmin/js/bootstrap-datetimepicker.min.js"></script>

    </body>
</html>